(function(e,a){"use strict";"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(a):e.PubSub=a(),"function"==typeof jQuery&&(jQuery.pubsub=a())})("object"==typeof window&&window||this,function(){"use strict";function e(e){return function(){throw e}}function a(a,r,s){try{a(r,s)}catch(t){setTimeout(e(t),0)}}function r(e,a,r){e(a,r)}function s(e,s,t,i){var l,n,k=o[s],_=i?r:a;if(o.hasOwnProperty(s))for(l=0,n=k.length;n>l;l++)_(k[l].func,e,t)}function t(e,a,r){return function(){var t=e+"",i=t.lastIndexOf(".");for(s(e,e,a,r);-1!==i;)t=t.substr(0,i),i=t.lastIndexOf("."),s(e,t,a)}}function i(e){for(var a=e+"",r=o.hasOwnProperty(a),s=a.lastIndexOf(".");!r&&-1!==s;)a=a.substr(0,s),s=a.lastIndexOf("."),r=o.hasOwnProperty(a);return r}function l(e,a,r,s){var l=t(e,a,s),n=i(e);return n?(r===!0?l():setTimeout(l,0),!0):!1}var n={name:"PubSubJS",version:"1.3.3"},o={},k=-1;return n.publish=function(e,a){return l(e,a,!1,n.immediateExceptions)},n.publishSync=function(e,a){return l(e,a,!0,n.immediateExceptions)},n.subscribe=function(e,a){o.hasOwnProperty(e)||(o[e]=[]);var r=++k+"";return o[e].push({token:r,func:a}),r},n.unsubscribe=function(e){var a,r,s="string"==typeof e,t=s?"token":"func",i=s?e:!0,l=!1;for(a in o)if(o.hasOwnProperty(a))for(r=o[a].length-1;r>=0;r--)if(o[a][r][t]===e&&(o[a].splice(r,1),l=i,s))return l;return l},n});